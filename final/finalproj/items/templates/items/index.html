{% extends 'items/base.html' %}

{% block body %}
    <div class="row" id="button_row">
        <a href="{% url 'items:create_item' %}" class="btn btn-primary"><i class="fas fa-plus"></i> Add Item</a>
        <a href="{% url 'items:create_location' %}" class="btn btn-primary"><i class="fas fa-plus"></i> Add Location</a>
        <a href="{% url 'items:create_room' %}" class="btn btn-primary"><i class="fas fa-plus"></i> Add Room</a>

        <button class="btn btn-success dropdown-toggle" type="button" id="sortDropdownButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Sort
        </button>
        <div class="dropdown-menu" aria-labelledby="sortDropdownButton">
            <a class="dropdown-item" href="{% url 'items:index_sorted' sort_by='name' %}">By Name</a>
            <a class="dropdown-item" href="{% url 'items:index_sorted' sort_by='location_id' %}">By Location</a>
            <a class="dropdown-item" href="{% url 'items:index_sorted' sort_by='location_id.room_id' %}">By Room</a>
        </div>
    </div>

    {% for item in item_list %}
        {% if item.created_by == user %}
            <div class="row">
                <div class="col-md-3">
                    <img src="../../media/{{ item.image }}" height="150px" alt="">
                </div>
                <div class="col-md-4">
                    <h3>{{ item.name }}</h3>
                    <p>Quantity: {{ item.quantity }}</p>
                    <p>Room: {{ item.location_id.room_id }}</p>
                    <p>Location: {{ item.location_id }}</p>
                </div>
                <div class="col-md-2">
                    <a href="{% url 'items:item_detail' item.id %}" class="btn btn-success"><i class="fas fa-info-circle"></i> See Details</a>
                    <a href="{% url 'items:update_item' item.id %}" class="btn btn-primary"><i class="fas fa-edit"></i> Edit</a>
                    <a href="{% url 'items:delete_item' item.id %}" class="btn btn-danger"><i class="fas fa-trash-alt"></i> Delete</a>
                </div>
            </div>
        {% endif %}
    {% endfor %}
{% endblock %}